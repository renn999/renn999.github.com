<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: octopress | 老伯筆記]]></title>
  <link href="http://www.renn999.twbbs.org/archives/categories/octopress/atom.xml" rel="self"/>
  <link href="http://www.renn999.twbbs.org/"/>
  <updated>2012-09-18T13:49:06+08:00</updated>
  <id>http://www.renn999.twbbs.org/</id>
  <author>
    <name><![CDATA[renn999]]></name>
    <email><![CDATA[renn999@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress調教メモ之二]]></title>
    <link href="http://www.renn999.twbbs.org/archives/904"/>
    <updated>2012-09-12T19:55:00+08:00</updated>
    <id>http://www.renn999.twbbs.org/archives/904</id>
    <content type="html"><![CDATA[<p>這次把<code>LinkWithin</code>的連結稍微改了一下，把他弄成獨立頁面，並且我發現到如果改了 theme 之前 theme 的東西還是會留下來變成垃圾，但是會不會一起<code>generate</code>老實說我就不得而知了，但是看起來好像不會。</p>

<!--more-->


<p>這是修改post頁面
``` diff article.html
diff --git a/source/<em>includes/article.html b/source/</em>includes/article.html
index 2fcc168..b387e7c 100644
--- a/source/<em>includes/article.html
+++ b/source/</em>includes/article.html
@@ -7,7 +7,7 @@</p>

<pre><code>&lt;/div&gt;
</code></pre>

<p> {% else %}</p>

<pre><code>&lt;h1 class="title"&gt;{% if site.titlecase %}{{ page.title | titlecase }}{% else %}{{ page.title }}{% endif %}&lt;/h1&gt;
</code></pre>

<ul>
<li><div class="entry-content">{{ content }}</div></li>
<li><div class="entry-content">{{ content }}{% include asides/linkwithin.html %}</div>
{% endif %}</li>
</ul>


<p> <div class="meta">
@@ -16,4 +16,7 @@</p>

<pre><code>{% if site.disqus_short_name and site.disqus_show_comment_count == true %}
    &lt;span class="comments"&gt;&lt;a href="{{ root_url }}{{ post.url }}#disqus_thread"&gt;Comments&lt;/a&gt;&lt;/span&gt;
{% endif %}
</code></pre>

<ul>
<li>{% if index != true %}</li>
<li>  {% include asides/qrcode.html %}</li>
<li>{% endif %}
</div>
<code>``
把</code>LinkWithin`的code獨立出來</li>
</ul>


<p><code>diff linkwithin.html
diff --git a/source/_includes/asides/linkwithin.html b/source/_includes/asides/linkwithin.html
new file mode 100644
index 0000000..5ef09de
--- /dev/null
+++ b/source/_includes/asides/linkwithin.html
@@ -0,0 +1,3 @@
+&lt;section&gt;
+&lt;div class="linkwithin_div" style='font-size:1.2em;margin: 0px 0px -30px;'&gt;&lt;/div&gt;&lt;script type="text/javascript"&gt;var linkwithin_site_id = 1454823;&lt;/script&gt;  &lt;script src="http://www.linkwithin.com/widget.js"&gt;&lt;/script&gt;
+&lt;/section&gt;
</code></p>

<p>參考了<a href="https://github.com/sailor79/Octopress-dynamic-QR-Code-aside">sailor79 / Octopress-dynamic-QR-Code-aside</a>所加上：</p>

<p><code>diff qrcode.html
diff --git a/source/_includes/asides/qrcode.html b/source/_includes/asides/qrcode.html
new file mode 100644
index 0000000..0041fba
--- /dev/null
+++ b/source/_includes/asides/qrcode.html
@@ -0,0 +1,3 @@
+&lt;section&gt;
+QR-Code&lt;abbr title="The word 'QR Code' is a registered trademark of DENSO WAVE INCORPORATED. It applies only for the word 'QR Code', not for image."&gt;&amp;trade;&lt;/abbr&gt;
+&lt;a href="{{ site.url }}{{ page.url }}"&gt;&lt;img src="http://chart.apis.google.com/chart?chs=150x150&amp;cht=qr&amp;chld=|0&amp;chco=165B94&amp;chl={{ site.url }}{{ page.url }}" alt="post-qrcode"&gt;&lt;/a&gt;&lt;/section&gt;
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress調教メモ之一]]></title>
    <link href="http://www.renn999.twbbs.org/archives/903"/>
    <updated>2012-09-10T08:03:00+08:00</updated>
    <id>http://www.renn999.twbbs.org/archives/903</id>
    <content type="html"><![CDATA[<p>這篇主要是調教<code>atom.xml</code>RSS變成不要全文顯示外加加上<code>LinkWithin</code>有興趣的文章</p>

<!--more-->


<p>以下是我參考了一下內部的index的page html改出來的其實好像說不難</p>

<p>```diff
diff --git a/source/atom.xml b/source/atom.xml
index 83af3f8..d4aeff5 100644
--- a/source/atom.xml
+++ b/source/atom.xml
@@ -21,7 +21,7 @@ layout: nil</p>

<pre><code> &lt;link href="{{ site.url }}{{ post.url }}"/&gt;
 &lt;updated&gt;{{ post.date | date_to_xmlschema }}&lt;/updated&gt;
 &lt;id&gt;{{ site.url }}{{ post.id }}&lt;/id&gt;
</code></pre>

<ul>
<li> <content type="html">&lt;![CDATA[{{ post.content | expand_urls: site.url | cdata_escape }}]]&gt;</content></li>
<li> <content type="html">&lt;![CDATA[{{ post.content | excerpt | expand_urls: site.url | cdata_escape }}{% capture excerpted %}{{ post.content | has_excerpt }}{% endcapture %}{% if excerpted == 'true' %}<a href="{{ site.url }}{{ root_url }}{{ post.url }}" class="more-link">{{ site.excerpt_link }}</a>{% endif %}]]&gt;</content>
</entry>
{% endfor %}
</feed>
```</li>
</ul>


<p>至於<code>LinkWithin</code>的話就先去<a href="http://www.linkwithin.com/">LinkWithin</a>，填入基本資訊後，在Platform的部份選擇Other，他就會給你一組code，比較快的做法直接貼到<code>source/_layouts/default.html</code>下去就可以了，這裡才是重點並且在<code>source/_layouts/post.html</code>你要的地方貼上</p>

<pre><code>&lt;div class="linkwithin_div"&gt;&lt;/div&gt;
</code></pre>

<p>但LinkWithin太聰明了，我使用<a href="http://zespia.tw/Octopress-Theme-Slash/">Slash</a>這個theme的時候，他竟然會在<code>index</code>每一則訊息後面都加上去，所以說放大絕，我是直接修改<code>source/_includes/article.html</code></p>

<p>```diff
diff --git a/source/<em>includes/article.html b/source/</em>includes/article.html
index 50846a3..1e85c87 100644
--- a/source/<em>includes/article.html
+++ b/source/</em>includes/article.html
@@ -7,7 +7,7 @@
  </div>
 {% else %}
  <h1 class="title">{% if site.titlecase %}{{ page.title | titlecase }}{% else %}{{ page.title }}{% endif %}</h1>
- <div class="entry-content">{{ content }}</div>
+ <div class="entry-content">{{ content }}<div class="linkwithin_div" style='font-size:1.2em;margin: 0px 0px -30px;'></div><script type="text/javascript">var linkwithin_site_id = 1454823;</script>  <script src="http://www.linkwithin.com/widget.js"></script></div>
 {% endif %}</p>

<p> <div class="meta">
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[rake的tips]]></title>
    <link href="http://www.renn999.twbbs.org/archives/902"/>
    <updated>2012-09-08T12:23:00+08:00</updated>
    <id>http://www.renn999.twbbs.org/archives/902</id>
    <content type="html"><![CDATA[<p>參考至<a href="http://robdodson.me/blog/2012/06/11/some-octopress-rake-tips/">Some Octopress Rake Tips</a></p>

<p>剛開始用Octopress的時候感覺上速度還蠻快的，但是在將WP的文章匯入的時候就發現到，每一次的<code>generate</code>就會發現到速度會少許的減慢，好像每一次都會對所有的文章做一次的編譯，造成每次要<code>preview</code>時速度都非常慢，其實裏面有幾個有用的指令可以提昇速度。</p>

<!--more-->


<pre><code>rake isolate[file_name]
</code></pre>

<p>這樣他就會把你要編輯的檔案給獨立出來，將其他的檔案先暫時的放到<code>_stash</code>中，這樣只要下</p>

<pre><code>rake preview
</code></pre>

<p>此時在<code>localhost:4000</code>就可以預覽，而且速度會提昇不少。編輯完後只要另外下</p>

<pre><code>rake integrate
</code></pre>

<p>即可將原先遷移的檔案搬回來，要<code>generate</code>順便<code>deploy</code></p>

<pre><code>rake gen_deploy
</code></pre>

<p>而要查看rake所有可用的指令,就下</p>

<pre><code>rake -T
</code></pre>

<p>就會跑出</p>

<p><code>sh
rake clean                     # Clean out caches: .pygments-cache, .gist-cache, .sass-cache
rake copydot[source,dest]      # copy dot files for deployment
rake deploy                    # Default deploy task
rake gen_deploy                # Generate website and deploy
rake generate                  # Generate jekyll site
rake install[theme]            # Initial setup for Octopress: copies the default theme into the path of Jekyll's generator.
rake integrate                 # Move all stashed posts back into the posts directory, ready for site generation.
rake isolate[filename]         # Move all other posts than the one currently being worked on to a temporary stash location (stash) so regenerating the site happens much quicker.
rake list                      # list tasks
rake new_page[filename]        # Create a new page in source/(filename)/index.markdown
rake new_post[title]           # Begin a new post in source/_posts
rake preview                   # preview the site in a web browser
rake push                      # deploy public directory to github pages
rake rsync                     # Deploy website via rsync
rake set_root_dir[dir]         # Update configurations to support publishing to root or sub directory
rake setup_github_pages[repo]  # Set up _deploy folder and deploy branch for Github Pages deployment
rake update_source[theme]      # Move source to source.old, install source theme updates, replace source/_includes/navigation.html with source.old's navigation
rake update_style[theme]       # Move sass to sass.old, install sass theme updates, replace sass/custom with sass.old/custom
rake watch                     # Watch the site and regenerate when it changes
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hello Octopress]]></title>
    <link href="http://www.renn999.twbbs.org/archives/901/"/>
    <updated>2012-09-07T09:56:00+08:00</updated>
    <id>http://www.renn999.twbbs.org/archives/901</id>
    <content type="html"><![CDATA[<p>我把本站的網址改了：<a href="http://www.renn999.twbbs.org">http://www.renn999.twbbs.org</a><br/>
RSS Feed:<a href="http://feeds.feedburner.com/renn999">http://feeds.feedburner.com/renn999</a></p>

<p>算一算從開始用Wordpress(以下簡稱WP)已經幾年了，我只既得我一開始事由社團教學所認識的，那時沒有記錯的話是從2.3版開始，算是非常晚了那時會自己架站最主要就是看上自己架的 Blog more flexible <s>而且比較能炫耀</s>，並且整合性高，也可以自己架設相簿整合成自己的一套系統，但是經歷了一堆儲存裝置上的大地雷，以及不少次的歸零重整，外加程度上的成長，反而讓自己越來越懶，我懶得改一大堆東西，外加對於 Wordpress 這已經大到可以稱怪物的東西，以及一大堆如雞肋般的功能，還有裝太多的 plugin 拖累系統的效能，那個editor真的爛到我想殺人，都讓我非常的詬病。老實說XDite大在<a href="http://blog.xdite.net/posts/2011/10/07/what-is-octopress/">Why Octopress?</a>中已經把所有的重點已經講完了，真的身同感受啊！</p>

<!--more-->


<blockquote><p>我不想搞主機，</p></blockquote>

<p>老實說這才是我真正的原因我之前就有聽過Octopress這個系統，當初又以為是一樣又是要自己有台主機才可以使用，但是好像不用，只要Host在<a href="https://github.com/" title="Github">Github</a> or <a href="http://www.heroku.com/" title="Heroku">Heroku</a>，又是雲端人家是搞磁碟陣列的，不是像是我這種一顆老硬碟上面還要擺乖乖的不知道啥時會炸掉(是已經炸掉了，當某一天進入到機房聽到喀喀的聲音從硬碟傳出，那聲音就好像是...)，對於沒有主機的人還要去搞一台有LAMP的主機真的麻煩死了，還要定期保養，花錢又傷神。外面的雖說有非常多的Blog系統，那貧乏的功能外加系統安全性問題(雖然說我不會無聊到把現在最夯的私秘照傳上去)，但是還是有點怕怕的，又假設某一天不想服務了，只拿到一個不知道幹啥用的備份檔那才叫做真的欲哭無淚啊。</p>

<blockquote><p>我希望有個Blog能夠讓我快速上手，又無負擔的寫文章</p></blockquote>

<p>當初再用WP的Editor時，真的真是滿口髒話，老實說外面的服務也差不多，排版總是怪怪的，有的還用三小BBcode，然後又是怪怪的每家的格式又不一樣，按個分行每個又給你多加一個<code>&lt;br /&gt;</code>還是<code>&lt;p&gt;</code>的，變成多加一行，當我看到我之前寫的Wordpress文章時真的感覺上看到了八國聯軍一樣，臉真的綠了，差點沒變成浩克，所以說養成一個良好的寫作習慣真的是非常重要的，所以說看到了Markdown <a href="http://daringfireball.net/projects/markdown/syntax">ENG</a> <a href="http://markdown.tw/">ZH-TW</a>的語法之後真是在清楚不過了，他兼具了簡易排版的功能，外加可以轉各種格式，並且可以養成良好的習慣，而且非常直覺。</p>

<p>但是想想Octopress的缺點，好像也不少但是可以忽略，像是說沒有同步功能...etc. 但是對我來說同步已經讓我不在乎了，反正都有RSS何必還要microblog發佈一次，真是有點雞肋...科科。因為沒有動態功能，Octopress需要依靠<a href="http://disqus.com">Disqus</a>來做到comment功能。但是總比WP那個一天到晚都有人亂塞spam來的好(雖然說可以打開<a href="http://akismet.com/">Akismet</a>)，但是還是麻煩如果可以的話把多個Blog全部集中在一個管理不是非常好嗎？所以基於以上理由我又歸零了。</p>

<p>現在想想能用vim來寫Blog真的是非常cool的一件事...XD</p>
]]></content>
  </entry>
  
</feed>
